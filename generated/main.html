
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>main &#8212; OPTac 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GUI" href="../optac_main.html" />
    <link rel="prev" title="OPTac" href="../app.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-main">
<span id="main"></span><h1>main<a class="headerlink" href="#module-main" title="Permalink to this heading">¶</a></h1>
<p>Acquisition software for Optical Projection Tomography. If you are
interested in reconstruction and analysis, see project <a class="reference external" href="https://github.com/palec87/optan">OPTan</a>.</p>
<p>You can start cheap with the OPT with this GUI. 28BYJ-48 stepper motor and
Sky basics camera cost 2.44 and 40 bucks, respectively.</p>
<p>Control of the motors is done via Arduino board, notes on board
wiring can be found in the docs (TODO docs)</p>
<p>TODO ROI for the cameras which support that.
TODO Save images into a check radio button.
TODO Plotting 3d needs to be separate class or left to napari.</p>
<p>Small motor which comes with Arduino starting kit (28BYJ-48) is
denoted as Uno-stepper</p>
<p class="rubric">Functions</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#main.main_GUI" title="main.main_GUI"><code class="xref py py-obj docutils literal notranslate"><span class="pre">main_GUI</span></code></a>()</p></td>
<td><p>Initiate Qt application and GUI.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#main.Gui" title="main.Gui"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gui</span></code></a>(init_values_file)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="main.Gui">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">Gui</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">init_values_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="main.Gui._check_hist_vals">
<span class="sig-name descname"><span class="pre">_check_hist_vals</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._check_hist_vals" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if min hist is lower than hist max
Raise error message and set the min/max below or above
respectively</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._check_motors">
<span class="sig-name descname"><span class="pre">_check_motors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._check_motors" title="Permalink to this definition">¶</a></dt>
<dd><p>Checking the stepper motor before the OPT acquisition
starts.</p>
<ol class="arabic simple">
<li><p>Set step count to 0, and unit of progress for             sweep progress bar.</p></li>
<li><p>In case of virtual camera, exit method.</p></li>
<li><p>Initialize motor, if not already.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._continue">
<span class="sig-name descname"><span class="pre">_continue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">corr_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._continue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._current_motor_position">
<span class="sig-name descname"><span class="pre">_current_motor_position</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._current_motor_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._frame_count_set">
<span class="sig-name descname"><span class="pre">_frame_count_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._frame_count_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Update frame count in the current
acquisition run. Frame count is dispalyed
in the QLCD GUI object.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>count (int): Frame number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._load_gui_values">
<span class="sig-name descname"><span class="pre">_load_gui_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._load_gui_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Load gui values if lif.json file exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._no_data_count_set">
<span class="sig-name descname"><span class="pre">_no_data_count_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._no_data_count_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Update count of frames which has not been received
form the camera in the current run.</p>
<p>NO data count displayed in the QLCD GUI object.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>count (int): Number of NO data frames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._no_init_values">
<span class="sig-name descname"><span class="pre">_no_init_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._no_init_values" title="Permalink to this definition">¶</a></dt>
<dd><p>In case of no lif.json file, fill the
default values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._recheck_values">
<span class="sig-name descname"><span class="pre">_recheck_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._recheck_values" title="Permalink to this definition">¶</a></dt>
<dd><p>In case loaded value is the same as
the default value from the gui, the updata
methods are not called and attributes not initiated.</p>
<p>This is a workaround method which could be imporved.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._save_gui_values">
<span class="sig-name descname"><span class="pre">_save_gui_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._save_gui_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Save last used values from the GUI into an
lif.json file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._set_opt_step">
<span class="sig-name descname"><span class="pre">_set_opt_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._set_opt_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._show_camera_settings">
<span class="sig-name descname"><span class="pre">_show_camera_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._show_camera_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_abs_pos">
<span class="sig-name descname"><span class="pre">_update_abs_pos</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_abs_pos" title="Permalink to this definition">¶</a></dt>
<dd><p>Update where is set the absolute position for
the stepper move.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_accum_shots">
<span class="sig-name descname"><span class="pre">_update_accum_shots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_accum_shots" title="Permalink to this definition">¶</a></dt>
<dd><p>If checked, shots are getting accumulated and not
averaged. Effect is immediate if acquiring.</p>
<p>Careful with the output data size, because frames do
not fit into jpg format any more.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_camera_channels">
<span class="sig-name descname"><span class="pre">_update_camera_channels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checked</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_camera_channels" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks which camera channel is selected
in the GUI.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>checked (bool): True value for a checked button</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_camera_port">
<span class="sig-name descname"><span class="pre">_update_camera_port</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_camera_port" title="Permalink to this definition">¶</a></dt>
<dd><p>Update camera port from the GUI,
TODO Option for user to identify her camera</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_camera_type">
<span class="sig-name descname"><span class="pre">_update_camera_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_camera_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Update camera type from GUI
TODO: initialization of the camera to be triggered by
separate button</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_corr_averages">
<span class="sig-name descname"><span class="pre">_update_corr_averages</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_corr_averages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_folder_path">
<span class="sig-name descname"><span class="pre">_update_folder_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_folder_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Update saving folder path from GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_frame_rate">
<span class="sig-name descname"><span class="pre">_update_frame_rate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_frame_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Update frame rate from the GUI. Not available
for the cheap cameras</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_frames_to_avg">
<span class="sig-name descname"><span class="pre">_update_frames_to_avg</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_frames_to_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of frames to average into a single frame</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_hist_max">
<span class="sig-name descname"><span class="pre">_update_hist_max</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_hist_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Set maximum level for main image
histogram from GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_hist_min">
<span class="sig-name descname"><span class="pre">_update_hist_min</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_hist_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Set minimum level for main image histogram
from GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_hor_cut_pxs">
<span class="sig-name descname"><span class="pre">_update_hor_cut_pxs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_hor_cut_pxs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_hot_std_mult">
<span class="sig-name descname"><span class="pre">_update_hot_std_mult</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_hot_std_mult" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_live_recon_3d_btn">
<span class="sig-name descname"><span class="pre">_update_live_recon_3d_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_live_recon_3d_btn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_live_recon_btn">
<span class="sig-name descname"><span class="pre">_update_live_recon_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_live_recon_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>If GUI button checked, live reconstruction is active
during the experiment.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_metadata_expr">
<span class="sig-name descname"><span class="pre">_update_metadata_expr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_metadata_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>Update metadata from the UI text box.
TODO: Make sure parsing works for various inputs</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_motor_angle">
<span class="sig-name descname"><span class="pre">_update_motor_angle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_motor_angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Update motor angle to turn in stepping mode
For Uno-stepper.</p>
<p>2048 steps signify a full turn.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_motor_speed">
<span class="sig-name descname"><span class="pre">_update_motor_speed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_motor_speed" title="Permalink to this definition">¶</a></dt>
<dd><p>Update motor speed from the GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_motor_steps">
<span class="sig-name descname"><span class="pre">_update_motor_steps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_motor_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Update number of motor steps per move (step)
from GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_motor_type">
<span class="sig-name descname"><span class="pre">_update_motor_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_motor_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Update motor type from the dropdown menu
in the GUI</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_motor_wait">
<span class="sig-name descname"><span class="pre">_update_motor_wait</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_motor_wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Update wait constant (in s) for the motor stepping.
Too small might be dangerous because of threading
and also vibrations of the sample.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_n_frames">
<span class="sig-name descname"><span class="pre">_update_n_frames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_n_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>Update from GUI how many frames to aquire per
step of the OPT experiment or with a live acquisition
mode.</p>
<p>Does not take into account averaging per frame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_n_sweeps">
<span class="sig-name descname"><span class="pre">_update_n_sweeps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_n_sweeps" title="Permalink to this definition">¶</a></dt>
<dd><p>Update number of sweeps, i.e. repetitions of the
one revolution OPT scan</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_radon_idx">
<span class="sig-name descname"><span class="pre">_update_radon_idx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_radon_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Which horizontal line (index) of the main image
will be reconstructed.</p>
<p>Updated from the GUI.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_rect">
<span class="sig-name descname"><span class="pre">_update_rect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_rect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_rotate_frame">
<span class="sig-name descname"><span class="pre">_update_rotate_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checked</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_rotate_frame" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_save_opt">
<span class="sig-name descname"><span class="pre">_update_save_opt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_save_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_show_hlines">
<span class="sig-name descname"><span class="pre">_update_show_hlines</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_show_hlines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui._update_toggle_hist">
<span class="sig-name descname"><span class="pre">_update_toggle_hist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui._update_toggle_hist" title="Permalink to this definition">¶</a></dt>
<dd><p>Use histogram min/max levels for the main images
intensity range if toggled</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.acquire">
<span class="sig-name descname"><span class="pre">acquire</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Acquire data from camera
1. Set how much averaging to do for single frames
2.
3. Emit start_acquire thread data</p>
<p>TODO: Get rid of camera.idx part.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.acquire_cont_opt">
<span class="sig-name descname"><span class="pre">acquire_cont_opt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">btn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.acquire_cont_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.acquire_correction">
<span class="sig-name descname"><span class="pre">acquire_correction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">btn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corr_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">averages</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.acquire_correction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.append_history">
<span class="sig-name descname"><span class="pre">append_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.append_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Append history tab with runtime messages to user</p>
<dl class="simple">
<dt>Args:</dt><dd><p>message (str): Message as a single string.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.clear_sweep_data">
<span class="sig-name descname"><span class="pre">clear_sweep_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.clear_sweep_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear sweep data before the next swepp
start.</p>
<p>TODO: clear also a reconstruction image.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.collect_metadata">
<span class="sig-name descname"><span class="pre">collect_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.collect_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Collect metadata, N steps, N sweep,
averages per frame, frames per steps,
camera dynamic range, experiment notes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.create_plots">
<span class="sig-name descname"><span class="pre">create_plots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.create_plots" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates plots during the GUI initialization processes
And defines defaults for each graph</p>
<ol class="arabic simple">
<li><p>Camera image plot is a pyqtgraph histogram widget</p></li>
<li><p>Reconstruction plot is a pyqtgraph plotItem</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.create_saving_folder">
<span class="sig-name descname"><span class="pre">create_saving_folder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.create_saving_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Create experiment saving folder in the data saving folder
selected by user in the GUI. Method updates path attribute.
Name of the folder is a datetime string.</p>
<ol class="arabic simple">
<li><p>Create the folder and report in the history tab</p></li>
</ol>
<p>Folder name is not optional and has unified format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.current_frame_plot">
<span class="sig-name descname"><span class="pre">current_frame_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.current_frame_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Update current frame plot. Or raise exception.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.current_hlines_plot">
<span class="sig-name descname"><span class="pre">current_hlines_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.current_hlines_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.current_recon_plot">
<span class="sig-name descname"><span class="pre">current_recon_plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.current_recon_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Update reconstruction image based on the current last frame.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.disable_btns">
<span class="sig-name descname"><span class="pre">disable_btns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.disable_btns" title="Permalink to this definition">¶</a></dt>
<dd><p>Disable buttons during the OPT acquisition.</p>
<p>TODO: if acquisition raises errors, GUI needs to go
to a default state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.enable_btns">
<span class="sig-name descname"><span class="pre">enable_btns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.enable_btns" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable buttons after the OPT experiment is over.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_dark_field">
<span class="sig-name descname"><span class="pre">exec_dark_field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_dark_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Block camera message before acquisition
of the dark-field counts, used for identification
of hot pixels. This is separate operation from dark
field correction.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int: sys execution status.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_exit_btn">
<span class="sig-name descname"><span class="pre">exec_exit_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_exit_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit GUI including safeguarding
in case exit is called before stop.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_flat_field">
<span class="sig-name descname"><span class="pre">exec_flat_field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_flat_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_get_n_frames_btn">
<span class="sig-name descname"><span class="pre">exec_get_n_frames_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_get_n_frames_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Button triggers acquisition of self.n_frames
frames, each averaged or accumulated.</p>
<p>In case of OPT acquisition, all these frames
will be saved at each angle (motor step).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_hot_pixels">
<span class="sig-name descname"><span class="pre">exec_hot_pixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_hot_pixels" title="Permalink to this definition">¶</a></dt>
<dd><p>Block camera message before acquisition
of the dark-field counts, used for identification
of hot pixels. This is separate operation from dark
field correction.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>int: sys execution status.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_motor_close_btn">
<span class="sig-name descname"><span class="pre">exec_motor_close_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_motor_close_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the stepper by shutting down the
arduino board connection.</p>
<p>Disable/enable motor initiation buttons.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_motor_init_btn">
<span class="sig-name descname"><span class="pre">exec_motor_init_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_motor_init_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize stepper motor. Raise errors
if failed. If successful, set motor_on to True.</p>
<ol class="arabic simple">
<li><p>‘Initialize’ button disable.</p></li>
<li><p>‘Close motor’ button enable.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_rotate_cont_btn">
<span class="sig-name descname"><span class="pre">exec_rotate_cont_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_rotate_cont_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Continuous rotation of a motor.</p>
<p>TODO: Necessary to fix the parallel threading
to be able to acquire while rotating.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_run_opt_btn">
<span class="sig-name descname"><span class="pre">exec_run_opt_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_run_opt_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Triggers OPT execution.</p>
<ol class="arabic simple">
<li><p>Creates saving folder.</p></li>
<li><p>Disable buttons.</p></li>
<li><p>Check motor, collect metadata</p></li>
<li><p>Call <a href="#id1"><span class="problematic" id="id2">:fun:`Gui.run_sweep`_</span></a>.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_save_image_btn">
<span class="sig-name descname"><span class="pre">exec_save_image_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_save_image_btn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_show_3d_btn">
<span class="sig-name descname"><span class="pre">exec_show_3d_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_show_3d_btn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_show_3d_btn2">
<span class="sig-name descname"><span class="pre">exec_show_3d_btn2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_show_3d_btn2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_start_cont_opt">
<span class="sig-name descname"><span class="pre">exec_start_cont_opt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_start_cont_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_step_abs_btn">
<span class="sig-name descname"><span class="pre">exec_step_abs_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_step_abs_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Move a stepper motor with self.speed and by
self.angle.</p>
<p>In simul mode (virtual camera), nothing will happen.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_step_motor_btn">
<span class="sig-name descname"><span class="pre">exec_step_motor_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_step_motor_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Move a stepper motor with self.speed and by
self.angle.</p>
<p>In simul mode (virtual camera), nothing will happen.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_stop_btn">
<span class="sig-name descname"><span class="pre">exec_stop_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_stop_btn" title="Permalink to this definition">¶</a></dt>
<dd><p>Stops acquisition, close camera, acquire and
motor threads.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_stop_cont_opt">
<span class="sig-name descname"><span class="pre">exec_stop_cont_opt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_stop_cont_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.exec_stop_rotate_cont_btn">
<span class="sig-name descname"><span class="pre">exec_stop_rotate_cont_btn</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.exec_stop_rotate_cont_btn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.finish">
<span class="sig-name descname"><span class="pre">finish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>First idle state and then quit threads, both
stepper, camera and acquire threads.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.get_date_now">
<span class="sig-name descname"><span class="pre">get_date_now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.get_date_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current date and time which is
used for the experimental metadata information</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: datetime from years to seconds</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.get_time_now">
<span class="sig-name descname"><span class="pre">get_time_now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.get_time_now" title="Permalink to this definition">¶</a></dt>
<dd><p>Get current time string, used for experimental
metadata information.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>str: time H-M-S</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.idling">
<span class="sig-name descname"><span class="pre">idling</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.idling" title="Permalink to this definition">¶</a></dt>
<dd><p>Idle state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_camera">
<span class="sig-name descname"><span class="pre">initialize_camera</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize camera.
TODO: try to force resolution of the low-end
cameras</p>
<p>In case some camera is already initialized, the
thread will be killed and re-initialized again.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_dmk">
<span class="sig-name descname"><span class="pre">initialize_dmk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_dmk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_phonefix">
<span class="sig-name descname"><span class="pre">initialize_phonefix</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_phonefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the phonefix camera on a given
port, color channel and resolution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_sky_basic">
<span class="sig-name descname"><span class="pre">initialize_sky_basic</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_sky_basic" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize Sky basic camera on a given
port, color channel and resolution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_stepper">
<span class="sig-name descname"><span class="pre">initialize_stepper</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_stepper" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a stepper motor.</p>
<ol class="arabic simple">
<li><p>Create motor thread.</p></li>
<li><p>Initialize or raise exception.</p></li>
<li><p>Move the stepper to the thread.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.initialize_virtual_camera">
<span class="sig-name descname"><span class="pre">initialize_virtual_camera</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.initialize_virtual_camera" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize virtual camera, which requires generating
sinogram from the 3D shepp phantom data.</p>
<p>TODO: This takes time and causes crashes of the tests
on the github actions. Therefore will be triggered by
camera initialize button.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.linearity_calibration">
<span class="sig-name descname"><span class="pre">linearity_calibration</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.linearity_calibration" title="Permalink to this definition">¶</a></dt>
<dd><p>Load calibration file, doing it alone is tedious,
can be suggested to user</p>
<p>TODO: This should be done once, saved and know
for each camera what is the linear range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.message_display_dict">
<span class="sig-name descname"><span class="pre">message_display_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.message_display_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.message_text">
<span class="sig-name descname"><span class="pre">message_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.message_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Display message box with a notice equal
to text.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>text (str): text to display</p>
</dd>
<dt>Returns:</dt><dd><p>int: system execution status.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="main.Gui.post_ac_ready">
<span class="sig-name descname"><span class="pre">post_ac_ready</span></span><a class="headerlink" href="#main.Gui.post_ac_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>pyqtSignal(<a href="#id3"><span class="problematic" id="id4">*</span></a>types, name: str = …, revision: int = …, arguments: Sequence = …) -&gt; PYQT_SIGNAL</p>
<p>types is normally a sequence of individual types.  Each type is either a
type object or a string that is the name of a C++ type.  Alternatively
each type could itself be a sequence of types each describing a different
overloaded signal.
name is the optional C++ name of the signal.  If it is not specified then
the name of the class attribute that is bound to the signal is used.
revision is the optional revision of the signal that is exported to QML.
If it is not specified then 0 is used.
arguments is the optional sequence of the names of the signal’s arguments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.post_acquire">
<span class="sig-name descname"><span class="pre">post_acquire</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_frame_count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.post_acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Data handling after receiving data form the camera.
1. Update current frame attribute
2. Update plots
3. Check stop request, save data
4. Update frame count.
5. If all frames form current step done, move to         the next step. Otherwise, acquire again.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>frame (ndarray): Averaged current frame.
no_frame_count (int): No data received count.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.post_cont_opt">
<span class="sig-name descname"><span class="pre">post_cont_opt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.post_cont_opt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.post_opt">
<span class="sig-name descname"><span class="pre">post_opt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.post_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Steps after OPT experiment acquisition finished.</p>
<ol class="arabic simple">
<li><p>Save metadata.</p></li>
<li><p>Enable buttons.</p></li>
<li><p>Clear sweep data.</p></li>
<li><p>Go to idling() state.</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.post_step">
<span class="sig-name descname"><span class="pre">post_step</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.post_step" title="Permalink to this definition">¶</a></dt>
<dd><p>After all frames of the current step are processed,
update progress bar, update reconstruction plot
2. If last step of the sweep -&gt; post_sweep()
3. Otherwise step motor and acquire data again         by calling run_sweep method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.post_sweep">
<span class="sig-name descname"><span class="pre">post_sweep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.post_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Processing after a sweep is finished.</p>
<ol class="arabic simple">
<li><p>Register time of sweep finish, add to metadata.</p></li>
<li><p>If last sweep, close experiment with post_opt()</p></li>
<li><p>Otherwise go to next sweep via run_sweep()</p></li>
</ol>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.process_dark_field">
<span class="sig-name descname"><span class="pre">process_dark_field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.process_dark_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.process_flat_field">
<span class="sig-name descname"><span class="pre">process_flat_field</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.process_flat_field" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.process_hot_pixels">
<span class="sig-name descname"><span class="pre">process_hot_pixels</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.process_hot_pixels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.replot_recon_line">
<span class="sig-name descname"><span class="pre">replot_recon_line</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.replot_recon_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.replot_rectangle">
<span class="sig-name descname"><span class="pre">replot_rectangle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.replot_rectangle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.run_sweep">
<span class="sig-name descname"><span class="pre">run_sweep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.run_sweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Calls get_n_frames()
TODO: split exec_btn and get_n_frames</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.save_image">
<span class="sig-name descname"><span class="pre">save_image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.save_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving frames as images or text files (in case accum shots
is selected), which results in float numbers.</p>
<ol class="arabic simple">
<li><p>Create filename. Default file name is sweep_step_frame         numbers separated by ‘_’.</p></li>
<li><p>If saving folder does not exist, create it.</p></li>
<li><p>If/else for averaging vs accumulation of the frames modes.</p></li>
</ol>
<dl class="simple">
<dt>Args:</dt><dd><p>fname (str, optional): file name, used in cases of
saving calibrations etc. Defaults to None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.save_metadata">
<span class="sig-name descname"><span class="pre">save_metadata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.save_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Saving metadata dictionary in json format into the
data saving folder.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.select_folder">
<span class="sig-name descname"><span class="pre">select_folder</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.select_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a folder selection dialog to choose
data saving folder. Folder path also displayed in
the textbox.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.snap_dmk">
<span class="sig-name descname"><span class="pre">snap_dmk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.snap_dmk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.sweep_count_set">
<span class="sig-name descname"><span class="pre">sweep_count_set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">count</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.sweep_count_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Update sweep count during OPT acquisition.
Count displayed in QLCD display in the GUI.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>count (int): sweep number</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.update_recon">
<span class="sig-name descname"><span class="pre">update_recon</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.update_recon" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Radon reconstruction after OPT step is finished.
Handles if the reconstruction index is too high.</p>
<p>TODO: handle that exception better. Experiment should continue
without reconstruction</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="main.Gui.update_recon_3d">
<span class="sig-name descname"><span class="pre">update_recon_3d</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.Gui.update_recon_3d" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="main.main_GUI">
<span class="sig-prename descclassname"><span class="pre">main.</span></span><span class="sig-name descname"><span class="pre">main_GUI</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#main.main_GUI" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiate Qt application and GUI. Display the GUI and
create plots.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>Tuple: QtApplication, GUI</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">OPTac</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../hardware.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../acquisition.html">Acquisition manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app.html">OPTac</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../optac_main.html">GUI</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">main</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../opt_class.html">OPT class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../camera_class.html">Camera</a></li>
<li class="toctree-l1"><a class="reference internal" href="../motor_class.html">Motor class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../corrections.html">Corrections</a></li>
<li class="toctree-l1"><a class="reference internal" href="../img_processing.html">Image processing</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../app.html">OPTac</a><ul>
      <li>Previous: <a href="../app.html" title="previous chapter">OPTac</a></li>
      <li>Next: <a href="../optac_main.html" title="next chapter">GUI</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, David Palecek.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 6.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/generated/main.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>